/*! Fabrik */
define(["jquery"],function(s){return new Class({Binds:[],initialize:function(){this.spinners={},this.spinnerCount={},this.watchResize()},sanitizeInline:function(n){return(n=n||document.body)instanceof s?n=0!==n.length&&n[0]:"null"===typeOf(document.id(n))&&(n=!1),n},start:function(n,t){if(n=this.sanitizeInline(n),t=t||Joomla.JText._("COM_FABRIK_LOADING"),this.spinners[n]||(this.spinners[n]=new Spinner(n,{message:t})),this.spinnerCount[n]?this.spinnerCount[n]++:this.spinnerCount[n]=1,1===this.spinnerCount[n])try{this.spinners[n].position().show()}catch(n){}},stop:function(n){var t;n=this.sanitizeInline(n),this.spinners[n]&&this.spinnerCount[n]&&(1<this.spinnerCount[n]?this.spinnerCount[n]--:(t=this.spinners[n],Browser.ie&&Browser.version<9?t.hide():(t.destroy(),delete this.spinnerCount[n],delete this.spinners[n])))},watchResize:function(){var n=this;setInterval(function(){s.each(n.spinners,function(n,t){try{var i=Math.max(40,s(t.target).height()),e=s(t.target).width();s(t.element).height(i),0!==e&&(s(t.element).width(e),s(t.element).find(".spinner-content").css("left",e/2)),t.position()}catch(n){}})},300)}})});
//# sourceMappingURL=loader.js.map