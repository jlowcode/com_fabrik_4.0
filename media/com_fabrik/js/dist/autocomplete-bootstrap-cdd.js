/*! Fabrik */
define(["jquery","fab/autocomplete-bootstrap","fab/fabrik"],function(t,e,n){return new Class({Binds:[],Extends:e,search:function(t){var e,s=this.getInputElement().get("value");if(""===s&&(this.element.value=""),s!==this.searchText&&""!==s){var i=document.id(this.options.observerid);if("null"===typeOf(i))return void this.parent(t);t=(i=this.options.formRef?n.getBlock(this.options.formRef).formElements[this.options.observerid]:i).get("value")+"."+s,this.positionMenu(),this.cache[t]?this.populateMenu(this.cache[t])&&this.openMenu():(this.ajax&&(this.closeMenu(),this.ajax.cancel()),this.ajax=new Request({url:this.options.url,data:{value:s,fabrik_cascade_ajax_update:1,v:i.get("value")},onRequest:function(){n.loader.start(this.getInputElement())}.bind(this),onCancel:function(){n.loader.stop(this.getInputElement())}.bind(this),onSuccess:function(t){n.loader.stop(this.getInputElement()),this.ajax=null,this.completeAjax(t)}.bind(this),onFailure:function(t){n.loader.stop(this.getInputElement()),this.ajax=null,fconsole("Fabrik autocomplete: Ajax failure: Code "+t.status+": "+t.statusText);t=n.getBlock(this.options.formRef).formElements.get(this.element.id);e=Joomla.JText._("COM_FABRIK_AUTOCOMPLETE_AJAX_ERROR"),t.setErrorMessage(e,"fabrikError",!0)}.bind(this)}).send())}this.searchText=s}})});
//# sourceMappingURL=autocomplete-bootstrap-cdd.js.map