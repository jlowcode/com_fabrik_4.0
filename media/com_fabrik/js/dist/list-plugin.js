/*! Fabrik */
define(["jquery"],function(t){return new Class({Implements:[Events,Options],options:{requireChecked:!0,canAJAX:!0},initialize:function(t){if(this.setOptions(t),this.result=!0,"null"!==typeOf(this.getList())){if("function"==typeof this.getList().getForm){this.listform=this.getList().getForm();t=this.listform.getElement("input[name=listid]");if("null"===typeOf(t))return;this.listid=t.value}else this.listform=this.getList().container.getElement("form");this.watchButton()}},getList:function(){var t=Fabrik.blocks["list_"+this.options.ref];return t="null"===typeOf(t)?Fabrik.blocks["visualization_"+this.options.ref]:t},getRowId:function(t){return(t=t.hasClass("fabrik_row")?t:t.getParent(".fabrik_row")).id.split("_").getLast()},clearFilter:Function.from(),watchButton:function(){"null"!==typeOf(this.options.name)&&document.addEvent("click:relay(."+this.options.name+")",function(t,i){var e;t.rightClick||(t.stop(),i.get("data-list")===this.list.options.listRef&&(t.preventDefault(),t.target.getParent(".fabrik_row")&&(i=t.target.getParent(".fabrik_row")).getElement("input[name^=ids]")&&(t=i.getElement("input[name^=ids]"),this.listform.getElements("input[name^=ids]").set("checked",!1),t.set("checked",!0)),e=!1,this.listform.getElements("input[name^=ids]").each(function(t){t.checked&&(e=!0)}),!e&&this.options.requireChecked?alert(Joomla.JText._("COM_FABRIK_PLEASE_SELECT_A_ROW")):(i=this.options.name.split("-"),this.listform.getElement("input[name=fabrik_listplugin_name]").value=i[0],this.listform.getElement("input[name=fabrik_listplugin_renderOrder]").value=i.getLast(),this.buttonAction())))}.bind(this))},buttonAction:function(){var t=this.options.canAJAX?"list.doPlugin":"list.doPlugin.noAJAX";this.list.submit(t)}})});
//# sourceMappingURL=list-plugin.js.map