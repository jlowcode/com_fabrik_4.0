/*! Fabrik */

define(["jquery"],(function(a){return new Class({initialize:function(e){a("#"+e.id+" .togglecols .dropdown-menu a, #"+e.id+" .togglecols .dropdown-menu li").click((function(a){a.stopPropagation()})),e.addEvent("mouseup:relay(a[data-toggle-col])",function(e,o){var t=a(o).data("toggle-state"),n=a(o).data("toggle-col");this.toggleColumn(n,t,o)}.bind(this));e.getElements("a[data-toggle-group]");e.addEvent("mouseup:relay(a[data-toggle-group])",function(e,o){var t,n=a(o).data("toggle-state"),i=a(o).data("toggle-group");document.getElements("a[data-toggle-parent-group="+i+"]").each(function(e){var o=a(e).data("toggle-col");this.toggleColumn(o,n,e)}.bind(this)),t="open"===(n="open"===n?"close":"open")?"":" muted",a(o).find("*[data-isicon]").removeClass().addClass("icon-eye-"+n+t),a(o).data("toggle-state",n)}.bind(this))},toggleColumn:function(e,o,t){var n;"open"===(o="open"===o?"close":"open")?(a(".fabrik___heading ."+e).show(),a(".fabrikFilterContainer ."+e).show(),a(".fabrik_row  ."+e).show(),a(".fabrik_calculations  ."+e).show(),n=""):(a(".fabrik___heading ."+e).hide(),a(".fabrikFilterContainer ."+e).hide(),a(".fabrik_row  ."+e).hide(),a(".fabrik_calculations  ."+e).hide(),n=" muted"),a(t).find("*[data-isicon]").removeClass().addClass("icon-eye-"+o+n),a(t).data("toggle-state",o)}})}));